version: 1.0
tasks:
  # [435, 103]
  start:
    action: core.noop
    next:
      - do:
          - password_from_passwordstate
  # [437, 217]
  password_from_passwordstate:
    action: core.local
    next:
      - do:
          - End
        publish:
          - secret_id: <% result().stdout[0].Password %>
    input:
      cmd: "curl --location --request GET \"https://pwd.ecorp.systems//api/passwords/35423\" --header 'APIKey: b5fe43a237c896d62bf47d98ae35c32b'"
  # [436, 331]
  End:
    action: core.noop
output:
  - password: <%ctx().secret_id%>
